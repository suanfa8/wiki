"use strict";(self.webpackChunkblog_tools=self.webpackChunkblog_tools||[]).push([[6721],{8070:(n,e,s)=>{s.r(e),s.d(e,{data:()=>a});const a={key:"v-46f9ec2c",path:"/SpringCloud/8-OpenFeign/8-3-OpenFeign-Timeout.html",title:"8-3 OpenFeign 超时设置",lang:"en-US",frontmatter:{},excerpt:"",headers:[],filePathRelative:"SpringCloud/8-OpenFeign/8-3-OpenFeign-Timeout.md",git:{updatedTime:1638150153e3,contributors:[{name:"suanfa8",email:"45396320+suanfa8@users.noreply.github.com",commits:3}]}}},619:(n,e,s)=>{s.r(e),s.d(e,{default:()=>i});const a=(0,s(6252).uE)('<h1 id="_8-3-openfeign-超时设置" tabindex="-1"><a class="header-anchor" href="#_8-3-openfeign-超时设置" aria-hidden="true">#</a> 8-3 OpenFeign 超时设置</h1><nav class="table-of-contents"><ul></ul></nav><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 0.超时说明</span>\n<span class="token list punctuation">-</span> 默认情况下,openFiegn在进行服务调用时,要求服务提供方处理业务逻辑时间必须在1S内返回,如果超过1S没有返回则OpenFeign会直接报错,不会等待服务执行,但是往往在处理复杂业务逻辑是可能会超过1S,因此需要修改OpenFeign的默认服务调用超时时间。\n<span class="token list punctuation">-</span> 调用超时会出现如下错误：\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.模拟超时</span>\n<span class="token list punctuation">-</span> 服务提供方加入线程等待阻塞\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gvu7nsh440j325s0fg0yg.jpg" alt="image-20200713213322984"></p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 2.进行客户端调用</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gvu7nweywvj32160gq78y.jpg" alt="image-20200713213415230"></p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 3.修改OpenFeign默认超时时间</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">feign.client.config.PRODUCTS.connectTimeout</span><span class="token punctuation">=</span><span class="token attr-value">5000  #配置指定服务连接超时</span>\n<span class="token attr-name">feign.client.config.PRODUCTS.readTimeout</span><span class="token punctuation">=</span><span class="token attr-value">5000\t\t  #配置指定服务等待超时</span>\n<span class="token comment">#feign.client.config.default.connectTimeout=5000  #配置所有服务连接超时</span>\n<span class="token comment">#feign.client.config.default.readTimeout=5000\t\t\t#配置所有服务等待超时</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>',9),t={},i=(0,s(3744).Z)(t,[["render",function(n,e){return a}]])},3744:(n,e)=>{e.Z=(n,e)=>{const s=n.__vccOpts||n;for(const[n,a]of e)s[n]=a;return s}}}]);